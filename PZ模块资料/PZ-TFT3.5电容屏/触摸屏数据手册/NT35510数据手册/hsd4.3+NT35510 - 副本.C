

void wr_cmd(uchar cmd_high,uchar command_data_8)
{
rs=0;
main_cs=0;

P0=cmd_high;
hd_cs=1;
hd_cs=0;

P0=command_data_8;
ld_cs=1;
ld_cs=0;

wr=0;
wr=1;

main_cs=1;
}

void wr_data(uchar high_8_data , uchar low_8_data)
{
rs=1;
main_cs=0;

P0=high_8_data;
hd_cs=1;
hd_cs=0;
P0=low_8_data;
ld_cs=1;
ld_cs=0;

wr=0;
wr=1;

main_cs=1;
}

void delay(int d)
{
uint i,j,k;
for(i=0;i<d;i++)
   for(j=0;j<17;j++)
      for(k=0;k<15;k++)
      ;
}



/*-----------------------------------------------LSI INITIAL----------------------------------------------------*/

void lcd_initialize()
{
reset=1;
delay(1);
reset=0;
delay(10);
reset=1;
delay(50);

//************* Start Initial Sequence **********//
//**********LV2 Page 1 enable***********//
	wr_cmd(0xF0,0x00);	wr_data(0x00,0x55);
	wr_cmd(0xF0,0x01);	wr_data(0x00,0xAA);
	wr_cmd(0xF0,0x02);	wr_data(0x00,0x52);
	wr_cmd(0xF0,0x03);	wr_data(0x00,0x08);
	wr_cmd(0xF0,0x04);	wr_data(0x00,0x01);

	//*************AVDD Set AVDD 5.2V*************//
	wr_cmd(0xB0,0x00);	wr_data(0x00,0x0d);
	wr_cmd(0xB0,0x01);	wr_data(0x00,0x0d);
	wr_cmd(0xB0,0x02);	wr_data(0x00,0x0d);

	//************AVDD ratio****************//
	wr_cmd(0xB6,0x00);	wr_data(0x00,0x34);
	wr_cmd(0xB6,0x01);	wr_data(0x00,0x34);
	wr_cmd(0xB6,0x02);	wr_data(0x00,0x34);
	 
	//************AVEE  -5.2V****************//
	wr_cmd(0xB1,0x00);	wr_data(0x00,0x01);
	wr_cmd(0xB1,0x01);	wr_data(0x00,0x01);
	wr_cmd(0xB1,0x02);	wr_data(0x00,0x01);

	//***********AVEE ratio*************//
	wr_cmd(0xB7,0x00);	wr_data(0x00,0x34);
	wr_cmd(0xB7,0x01);	wr_data(0x00,0x34);
	wr_cmd(0xB7,0x02);	wr_data(0x00,0x34);

	//***********VCL  -2.5V*************//
	wr_cmd(0xB2,0x00);	wr_data(0x00,0x02);
	wr_cmd(0xB2,0x01);	wr_data(0x00,0x02);
	wr_cmd(0xB2,0x02);	wr_data(0x00,0x02);

	//**************VCL ratio*****************//
	wr_cmd(0xB8,0x00);	wr_data(0x00,0x24);
	wr_cmd(0xB8,0x01);	wr_data(0x00,0x24);
	wr_cmd(0xB8,0x02);	wr_data(0x00,0x24);


	//*************VGH 15V  (Free pump)*********//
	wr_cmd(0xBF,0x00);	wr_data(0x00,0x01);
	wr_cmd(0xB3,0x00);	wr_data(0x00,0x0a);
	wr_cmd(0xB3,0x01);	wr_data(0x00,0x0a);
	wr_cmd(0xB3,0x02);	wr_data(0x00,0x0a);

	//*************VGH ratio*****************//
	wr_cmd(0xB9,0x00);	wr_data(0x00,0x34);
	wr_cmd(0xB9,0x01);	wr_data(0x00,0x34);
	wr_cmd(0xB9,0x02);	wr_data(0x00,0x34);

	//***************VGL_REG -10V**************//
	wr_cmd(0xB5,0x00);	wr_data(0x00,0x08);
	wr_cmd(0xB5,0x01);	wr_data(0x00,0x08);
	wr_cmd(0xB5,0x02);	wr_data(0x00,0x08);

	wr_cmd(0xC2,0x00);	wr_data(0x00,0x03);
		 
	//*****************VGLX ratio***************//
	wr_cmd(0xBA,0x00);	wr_data(0x00,0x24);
	wr_cmd(0xBA,0x01);	wr_data(0x00,0x24);
	wr_cmd(0xBA,0x02);	wr_data(0x00,0x24);

	//*************VGMP/VGSP 4.5V/0V*************//
	wr_cmd(0xBC,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xBC,0x01);	wr_data(0x00,0x78);
	wr_cmd(0xBC,0x02);	wr_data(0x00,0x00);

	//************VGMN/VGSN -4.5V/0V****************//
	wr_cmd(0xBD,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xBD,0x01);	wr_data(0x00,0x78);
	wr_cmd(0xBD,0x02);	wr_data(0x00,0x00);

	//************VCOM  -1.25V****************//
	wr_cmd(0xBE,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xBE,0x01);	wr_data(0x00,0x67);

	//************Gamma Setting******************//
	wr_cmd(0xD1,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD1,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD1,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD1,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD1,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD1,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD1,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD1,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD1,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD1,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD1,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD1,0x14);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD1,0x16);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x17);	wr_data(0x00,0xDF);
	wr_cmd(0xD1,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD1,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD1,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD1,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD1,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD1,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD1,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD1,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD1,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD1,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD1,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD1,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD1,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD1,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD1,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD1,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD1,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD1,0x33);	wr_data(0x00,0x8E);
					 
	wr_cmd(0xD2,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD2,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD2,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD2,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD2,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD2,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD2,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD2,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD2,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD2,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD2,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD2,0x14);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD2,0x16);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x17);	wr_data(0x00,0xDF);
	wr_cmd(0xD2,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD2,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD2,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD2,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD2,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD2,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD2,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD2,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD2,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD2,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD2,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD2,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD2,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD2,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD2,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD2,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD2,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD2,0x33);	wr_data(0x00,0x8E);

	wr_cmd(0xD3,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD3,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD3,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD3,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD3,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD3,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD3,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD3,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD3,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD3,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD3,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD3,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD3,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD3,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD3,0x14);	wr_data(0x00,0x01); 
	wr_cmd(0xD3,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD3,0x16);	wr_data(0x00,0x01);
	wr_cmd(0xD3,0x17);	wr_data(0x00,0xDF);
	wr_cmd(0xD3,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD3,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD3,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD3,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD3,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD3,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD3,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD3,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD3,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD3,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD3,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD3,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD3,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD3,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD3,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD3,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD3,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD3,0x33);	wr_data(0x00,0x8E);

	wr_cmd(0xD4,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD4,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD4,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD4,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD4,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD4,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD4,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD4,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD4,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD4,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD4,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD4,0x14);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD4,0x16);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x17);	wr_data(0x00,0xDF);
	wr_cmd(0xD4,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD4,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD4,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD4,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD4,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD4,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD4,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD4,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD4,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD4,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD4,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD4,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD4,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD4,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD4,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD4,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD4,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD4,0x33);	wr_data(0x00,0x8E);

	wr_cmd(0xD5,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD5,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD5,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD5,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD5,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD5,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD5,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD5,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD5,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD5,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD5,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD5,0x14);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD5,0x16);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x17);	wr_data(0x00,0xDF);
	wr_cmd(0xD5,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD5,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD5,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD5,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD5,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD5,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD5,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD5,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD5,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD5,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD5,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD5,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD5,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD5,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD5,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD5,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD5,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD5,0x33);	wr_data(0x00,0x8E);

	wr_cmd(0xD6,0x00);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x01);	wr_data(0x00,0x32);
	wr_cmd(0xD6,0x02);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x03);	wr_data(0x00,0x33);
	wr_cmd(0xD6,0x04);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x05);	wr_data(0x00,0x41);
	wr_cmd(0xD6,0x06);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x07);	wr_data(0x00,0x5A);
	wr_cmd(0xD6,0x08);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x09);	wr_data(0x00,0x76);
	wr_cmd(0xD6,0x0A);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x0B);	wr_data(0x00,0xA7);
	wr_cmd(0xD6,0x0C);	wr_data(0x00,0x00);
	wr_cmd(0xD6,0x0D);	wr_data(0x00,0xCF);
	wr_cmd(0xD6,0x0E);	wr_data(0x00,0x01);
	wr_cmd(0xD6,0x0F);	wr_data(0x00,0x09);
	wr_cmd(0xD6,0x10);	wr_data(0x00,0x01);
	wr_cmd(0xD6,0x11);	wr_data(0x00,0x36);
	wr_cmd(0xD6,0x12);	wr_data(0x00,0x01);
	wr_cmd(0xD6,0x13);	wr_data(0x00,0x73);
	wr_cmd(0xD6,0x14);	wr_data(0x00,0x01);
	wr_cmd(0xD6,0x15);	wr_data(0x00,0x9F);
	wr_cmd(0xD61,0x6);	wr_data(0x00,0x01);
	wr_cmd(0xD61,0x7);	wr_data(0x00,0xDF);
	wr_cmd(0xD6,0x18);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x19);	wr_data(0x00,0x10);
	wr_cmd(0xD6,0x1A);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x1B);	wr_data(0x00,0x11);
	wr_cmd(0xD6,0x1C);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x1D);	wr_data(0x00,0x3D);
	wr_cmd(0xD6,0x1E);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x1F);	wr_data(0x00,0x69);
	wr_cmd(0xD6,0x20);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x21);	wr_data(0x00,0x81);
	wr_cmd(0xD6,0x22);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x23);	wr_data(0x00,0x9D);
	wr_cmd(0xD6,0x24);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x25);	wr_data(0x00,0xAD);
	wr_cmd(0xD6,0x26);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x27);	wr_data(0x00,0xC3);
	wr_cmd(0xD6,0x28);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x29);	wr_data(0x00,0xD0);
	wr_cmd(0xD6,0x2A);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x2B);	wr_data(0x00,0xE2);
	wr_cmd(0xD6,0x2C);	wr_data(0x00,0x02);
	wr_cmd(0xD6,0x2D);	wr_data(0x00,0xEE);
	wr_cmd(0xD6,0x2E);	wr_data(0x00,0x03);
	wr_cmd(0xD6,0x2F);	wr_data(0x00,0x01);
	wr_cmd(0xD6,0x30);	wr_data(0x00,0x03);
	wr_cmd(0xD6,0x31);	wr_data(0x00,0x26);
	wr_cmd(0xD6,0x32);	wr_data(0x00,0x03);
	wr_cmd(0xD6,0x33);	wr_data(0x00,0x8E);


	//**************LV2 Page 0 enable*************//
	wr_cmd(0xF0,0x00);	wr_data(0x00,0x55);
	wr_cmd(0xF0,0x01);	wr_data(0x00,0xAA);
	wr_cmd(0xF0,0x02);	wr_data(0x00,0x52);
	wr_cmd(0xF0,0x03);	wr_data(0x00,0x08);
	wr_cmd(0xF0,0x04);	wr_data(0x00,0x00);

	//*************480x800*********************//
	wr_cmd(0xB5,0x00);	wr_data(0x00,0x6b);

	//***************Display control**************//
	wr_cmd(0xB1,0x00);	wr_data(0x00,0xCC);
	wr_cmd(0xB1,0x01);	wr_data(0x00,0x00);

	//***************Source hold time*************//
	wr_cmd(0xB6,0x00);	wr_data(0x00,0x05);

	//**************Gate EQ control***************//
	wr_cmd(0xB7,0x00);	wr_data(0x00,0x70);
	wr_cmd(0xB7,0x01);	wr_data(0x00,0x70);

	//*************Source EQ control (Mode 2)******//
	wr_cmd(0xB8,0x00);	wr_data(0x00,0x01);
	wr_cmd(0xB8,0x01);	wr_data(0x00,0x03);
	wr_cmd(0xB8,0x02);	wr_data(0x00,0x03);
	wr_cmd(0xB8,0x03);	wr_data(0x00,0x03);
					
	//************Inversion mode  (2-dot)***********//
	wr_cmd(0xBC,0x00);	wr_data(0x00,0x02);
	wr_cmd(0xBC,0x01);	wr_data(0x00,0x00);
	wr_cmd(0xBC,0x02);	wr_data(0x00,0x00);
					 
	//***************Frame rate***************//      
	wr_cmd(0xBD,0x00);	wr_data(0x00,0x01);
	wr_cmd(0xBD,0x01);	wr_data(0x00,0x6c);
	wr_cmd(0xBD,0x02);	wr_data(0x00,0x1e);  //0X1C
	wr_cmd(0xBD,0x03);	wr_data(0x00,0x1d);
	wr_cmd(0xBD,0x04);	wr_data(0x00,0x00);

	//********Timing control 4H w/ 4-Delayms *******//
	wr_cmd(0xC9,0x00);	wr_data(0x00,0xD0);
	wr_cmd(0xC9,0x01);	wr_data(0x00,0x02); 
	wr_cmd(0xC9,0x02);	wr_data(0x00,0x50);
	wr_cmd(0xC9,0x03);	wr_data(0x00,0x50);
	wr_cmd(0xC9,0x04);	wr_data(0x00,0x50);

	wr_cmd(0x36,0x00);	wr_data(0x00,0x00);
	wr_cmd(0x35,0x00);	wr_data(0x00,0x00);
	
	wr_cmd(0x3A,0x00);	wr_data(0x00,0x05);	//70
	 
	wr_cmd(0x11,0x00);
	delay(120);
	wr_cmd(0x29,0x00);
	delay(50); 
}



void display_color()
{
uint i,j,k;
wr_cmd(0x2c,0x00);
for(i=0;i<5;i++)
   {
    for(j=0;j<854;j++)
     for(k=0;k<480;k++)
     {
      wr_data(main_single_color[i*2],main_single_color[i*2+1]);
     }
	delay(100);
    display_stop();
   }
}

void display_picture()
{
uint adr=0,i,j,m=0,k=0;

P0=m;
io_cs=1;
io_cs=0;
while(k<1)
{
 for(i=0;i<854;i++)
 {for(j=0;j<480;j++)
  {
  	if(j>>240)
	{
  		wr_data(XBYTE[adr*2],XBYTE[adr*2+1]);
  		adr++;
		}
  		
  		else  
  			wr_data(0x00,0x00);    
   
  if(adr==0x8000)
   {
    m++;
    P0=m;
    io_cs=1;
    io_cs=0;
	adr=0;
	}
  }
  }
delay(100);
display_stop();
k++;
}
}


/*----------------------------------------------MAIN FUNCTION---------------------------------------------------------*/

void main()
{


 unsigned char p=1;
 //uint i;
 io_cs=0;
 lcd_initialize();
 EX0=1;
 EX1=0;
 ET0=0;
 ET1=0;
 EA=1;
 



while(1)
 {
 
//display_stria();
//display_redborder();
// display_color();
// display_picture();
 display_color();
 //enter_sleep();



 }
}


	




/*----------------------------------------------DISPLAY CODE---------------------------------------------------------*/

uchar code main_single_color[]={
                                0xf8,0x00,   //red
								0x84,0x10,   //gray
                                0x07,0xe0,   //green
                                0x00,0x1f,   //blue              
                                0xff,0xff,   //white
                                //0x00,0x00,   //black
                               };


